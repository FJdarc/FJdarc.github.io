---
layout: mypost
title: 着色器编译
categories: [OpenGL, Shader]
---

# 着色器编译

**着色器编译**指的是将[OpenGL着色语言](https://wikis.khronos.org/opengl/OpenGL_Shading_Language)脚本加载到OpenGL中作为[着色器](https://wikis.khronos.org/opengl/Shader)使用的过程。OpenGL可通过三种方式将着色器文本编译为可用的OpenGL对象，这些编译形式最终都会生成[程序对象](https://wikis.khronos.org/opengl/GLSL_Object#Program_objects)。

**注意**：本文涉及OpenGL 4.x版本功能，例如[细分着色器](https://wikis.khronos.org/opengl/Tessellation)与[计算着色器](https://wikis.khronos.org/opengl/Compute_Shader)。若您使用的是OpenGL 3.x版本，则可忽略相关内容。

<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" aria-label="Hide the table of contents"><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Shader_and_program_objects"><span class="tocnumber">1</span> <span class="toctext">Shader and program objects</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Shader_object_compilation"><span class="tocnumber">1.1</span> <span class="toctext">Shader object compilation</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Shader_error_handling"><span class="tocnumber">1.2</span> <span class="toctext">Shader error handling</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Program_setup"><span class="tocnumber">1.3</span> <span class="toctext">Program setup</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Before_linking"><span class="tocnumber">1.4</span> <span class="toctext">Before linking</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Program_linking"><span class="tocnumber">1.5</span> <span class="toctext">Program linking</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Linking_and_variables"><span class="tocnumber">1.6</span> <span class="toctext">Linking and variables</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Cleanup"><span class="tocnumber">1.7</span> <span class="toctext">Cleanup</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Example"><span class="tocnumber">1.8</span> <span class="toctext">Example</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#Separate_programs"><span class="tocnumber">2</span> <span class="toctext">Separate programs</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#Program_pipelines"><span class="tocnumber">2.1</span> <span class="toctext">Program pipelines</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Rendering"><span class="tocnumber">2.2</span> <span class="toctext">Rendering</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Uniforms_and_pipelines"><span class="tocnumber">2.3</span> <span class="toctext">Uniforms and pipelines</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Examples_of_separate_programs"><span class="tocnumber">2.4</span> <span class="toctext">Examples of separate programs</span></a>
<ul>
<li class="toclevel-3 tocsection-15"><a href="#Two_separate_programs_for_vertex_and_fragment_shading"><span class="tocnumber">2.4.1</span> <span class="toctext">Two separate programs for vertex and fragment shading</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#Mixing_a_single-_and_a_multi-stage_program"><span class="tocnumber">2.4.2</span> <span class="toctext">Mixing a single- and a multi-stage program</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="#Binary_upload"><span class="tocnumber">3</span> <span class="toctext">Binary upload</span></a>
<ul>
<li class="toclevel-2 tocsection-18"><a href="#State_of_the_program"><span class="tocnumber">3.1</span> <span class="toctext">State of the program</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#Binary_limitations"><span class="tocnumber">3.2</span> <span class="toctext">Binary limitations</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-20"><a href="#SPIR-V_compilation"><span class="tocnumber">4</span> <span class="toctext">SPIR-V compilation</span></a>
<ul>
<li class="toclevel-2"><a href="#Entry_points_and_specialization"><span class="tocnumber">4.1</span> <span class="toctext">Entry points and specialization</span></a></li>
<li class="toclevel-2"><a href="#Linking_SPIR-V"><span class="tocnumber">4.2</span> <span class="toctext">Linking SPIR-V</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-21"><a href="#Error_handling"><span class="tocnumber">5</span> <span class="toctext">Error handling</span></a></li>
<li class="toclevel-1 tocsection-22"><a href="#Interface_matching"><span class="tocnumber">6</span> <span class="toctext">Interface matching</span></a>
<ul>
<li class="toclevel-2 tocsection-23"><a href="#Qualifier_matching"><span class="tocnumber">6.1</span> <span class="toctext">Qualifier matching</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Array_interfaces_and_shader_stages"><span class="tocnumber">6.2</span> <span class="toctext">Array interfaces and shader stages</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Separate_program_matching"><span class="tocnumber">6.3</span> <span class="toctext">Separate program matching</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-26"><a href="#Validation"><span class="tocnumber">7</span> <span class="toctext">Validation</span></a>
<ul>
<li class="toclevel-2 tocsection-27"><a href="#Pipeline_validation"><span class="tocnumber">7.1</span> <span class="toctext">Pipeline validation</span></a></li>
</ul>
</li>
</ul>
</div>